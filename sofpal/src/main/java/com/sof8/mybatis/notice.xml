<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sof8.mapper.NoticeMapper">

	<!-- 게시글 상세조회 -->
	<select id="select" parameterType="Integer" resultType="Notice">
		SELECT *
		FROM
		board WHERE b_id = #{b_id}
	</select>

	<!-- 전체 게시글 조회 -->
	<select id="selectall" resultType="Notice">
		SELECT * FROM board WHERE
		type='공지사항' ORDER BY b_id DESC
	</select>

	<!-- 게시글 생성 -->
	<insert id="insert" parameterType="Notice">
		INSERT INTO board
		(`admin_id`,`type`,`title`,`content`)
		VALUES
		(#{admin_id},'공지사항',#{title},#{content})
	</insert>

	<!-- 게시글 수정 -->
	<update id="update" parameterType="Notice">
		UPDATE board SET
		title=#{title}, content=#{content}, hit=#{hit} WHERE b_id = #{b_id}
	</update>

	<!-- 게시글 삭제 -->
	<delete id="delete" parameterType="int">
		DELETE FROM board WHERE
		b_id=#{b_id}
	</delete>

	<select id="optionSelect" parameterType="Map"
		resultType="Notice">
		SELECT * FROM board WHERE type='공지사항' and ${searchOption} like
		'%${keyword}%'ORDER BY b_id
		DESC;
	</select>
</mapper>